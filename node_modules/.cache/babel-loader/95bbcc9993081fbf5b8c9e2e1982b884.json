{"ast":null,"code":"import { createAction } from \"@reduxjs/toolkit\";\nimport { baseURL } from '../../utils/config';\nimport { checkResponse } from '../utils'; //import { getForgotPasswordRequestApi } from '../fakeApiAuth';\n\nimport { GET_FORGOT_PASSWORD_REQUEST, GET_FORGOT_PASSWORD_SUCCESS, GET_FORGOT_PASSWORD_FAILED } from '../action-types';\nexport const getForgotPasswordRequest = createAction(GET_FORGOT_PASSWORD_REQUEST);\nexport const getForgotPasswordSuccess = createAction(GET_FORGOT_PASSWORD_SUCCESS);\nexport const getForgotPasswordFailed = createAction(GET_FORGOT_PASSWORD_FAILED);\nexport const getForgotPassword = function () {\n  let body = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n  return dispatch => {\n    dispatch({\n      type: getForgotPasswordRequest\n    });\n    fetch(baseURL + 'password-reset', {\n      method: 'POST',\n      mode: 'cors',\n      cache: 'no-cache',\n      credentials: 'same-origin',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      redirect: 'follow',\n      referrerPolicy: 'no-referrer',\n      body: JSON.stringify(body)\n    }).then(checkResponse).then(obj => {\n      //    getForgotPasswordRequest(body).then(obj => {\n      if (obj) {\n        console.log(obj);\n        dispatch({\n          type: getForgotPasswordSuccess,\n          restorePassword: obj\n        });\n      } else {\n        //    console.log('fail');\n        dispatch({\n          type: getForgotPasswordFailed\n        });\n      }\n    }).catch(error => {\n      //    console.log(error);\n      dispatch({\n        type: getForgotPasswordFailed\n      });\n    });\n  };\n};","map":{"version":3,"names":["createAction","baseURL","checkResponse","GET_FORGOT_PASSWORD_REQUEST","GET_FORGOT_PASSWORD_SUCCESS","GET_FORGOT_PASSWORD_FAILED","getForgotPasswordRequest","getForgotPasswordSuccess","getForgotPasswordFailed","getForgotPassword","body","dispatch","type","fetch","method","mode","cache","credentials","headers","redirect","referrerPolicy","JSON","stringify","then","obj","console","log","restorePassword","catch","error"],"sources":["/home/gog3d/JS/6-yndex-react/0-project/react-burger/src/redux/actions/forgot-password.js"],"sourcesContent":["import { createAction } from \"@reduxjs/toolkit\";\nimport { baseURL }  from '../../utils/config';\nimport { checkResponse }  from '../utils';\n//import { getForgotPasswordRequestApi } from '../fakeApiAuth';\n\nimport {\n  \n  GET_FORGOT_PASSWORD_REQUEST,\n  GET_FORGOT_PASSWORD_SUCCESS,\n  GET_FORGOT_PASSWORD_FAILED,\n\n} from '../action-types';\n\nexport const getForgotPasswordRequest = createAction(GET_FORGOT_PASSWORD_REQUEST);\nexport const getForgotPasswordSuccess = createAction(GET_FORGOT_PASSWORD_SUCCESS);\nexport const getForgotPasswordFailed = createAction(GET_FORGOT_PASSWORD_FAILED);\n\nexport const getForgotPassword = (body = null) => (dispatch) => {\n  dispatch({ type: getForgotPasswordRequest });\n  fetch(baseURL + 'password-reset', {\n    method: 'POST',\n    mode: 'cors',\n    cache: 'no-cache',\n    credentials: 'same-origin',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    redirect: 'follow',\n    referrerPolicy: 'no-referrer',\n    body: JSON.stringify(body),\n  }).then(checkResponse).then(obj => {\n//    getForgotPasswordRequest(body).then(obj => {\n  if (obj) {\n    console.log(obj)\n    dispatch({ type: getForgotPasswordSuccess, restorePassword: obj});\n  } else {\n//    console.log('fail');\n    dispatch({ type: getForgotPasswordFailed });\n  }\n  }).catch((error) => {\n//    console.log(error);\n    dispatch({ type: getForgotPasswordFailed });\n  });\n};"],"mappings":"AAAA,SAASA,YAAT,QAA6B,kBAA7B;AACA,SAASC,OAAT,QAAyB,oBAAzB;AACA,SAASC,aAAT,QAA+B,UAA/B,C,CACA;;AAEA,SAEEC,2BAFF,EAGEC,2BAHF,EAIEC,0BAJF,QAMO,iBANP;AAQA,OAAO,MAAMC,wBAAwB,GAAGN,YAAY,CAACG,2BAAD,CAA7C;AACP,OAAO,MAAMI,wBAAwB,GAAGP,YAAY,CAACI,2BAAD,CAA7C;AACP,OAAO,MAAMI,uBAAuB,GAAGR,YAAY,CAACK,0BAAD,CAA5C;AAEP,OAAO,MAAMI,iBAAiB,GAAG;EAAA,IAACC,IAAD,uEAAQ,IAAR;EAAA,OAAkBC,QAAD,IAAc;IAC9DA,QAAQ,CAAC;MAAEC,IAAI,EAAEN;IAAR,CAAD,CAAR;IACAO,KAAK,CAACZ,OAAO,GAAG,gBAAX,EAA6B;MAChCa,MAAM,EAAE,MADwB;MAEhCC,IAAI,EAAE,MAF0B;MAGhCC,KAAK,EAAE,UAHyB;MAIhCC,WAAW,EAAE,aAJmB;MAKhCC,OAAO,EAAE;QACP,gBAAgB;MADT,CALuB;MAQhCC,QAAQ,EAAE,QARsB;MAShCC,cAAc,EAAE,aATgB;MAUhCV,IAAI,EAAEW,IAAI,CAACC,SAAL,CAAeZ,IAAf;IAV0B,CAA7B,CAAL,CAWGa,IAXH,CAWQrB,aAXR,EAWuBqB,IAXvB,CAW4BC,GAAG,IAAI;MACrC;MACE,IAAIA,GAAJ,EAAS;QACPC,OAAO,CAACC,GAAR,CAAYF,GAAZ;QACAb,QAAQ,CAAC;UAAEC,IAAI,EAAEL,wBAAR;UAAkCoB,eAAe,EAAEH;QAAnD,CAAD,CAAR;MACD,CAHD,MAGO;QACT;QACIb,QAAQ,CAAC;UAAEC,IAAI,EAAEJ;QAAR,CAAD,CAAR;MACD;IACA,CApBD,EAoBGoB,KApBH,CAoBUC,KAAD,IAAW;MACtB;MACIlB,QAAQ,CAAC;QAAEC,IAAI,EAAEJ;MAAR,CAAD,CAAR;IACD,CAvBD;EAwBD,CA1BgC;AAAA,CAA1B"},"metadata":{},"sourceType":"module"}