{"ast":null,"code":"var _jsxFileName = \"/home/gog3d/JS/6-yndex-react/0-project/react-burger/src/pages/order-information-page.tsx\",\n    _s = $RefreshSig$();\n\nimport styles from './order-information-page.module.css';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useMemo } from 'react';\nimport React, { useEffect } from 'react';\nimport {\n/*useHistory,\nuseLocation,*/\nuseParams } from \"react-router-dom\";\nimport OrderInformationComponent from '../components/order-information-component/order-information-component';\nimport { wsUserConnectionStart } from '../redux/actions/wsUserAction';\nimport { getCookie } from '../redux/utils';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const OrderInformationPage = () => {\n  _s();\n\n  const dispatch = useDispatch(); //const { orders } = useSelector((store: RootState) => store.orders.orders);\n\n  const {\n    id\n  } = useParams();\n  const {\n    wsUserError,\n    wsUserConnected,\n    wsUserOrders,\n    wsUserOrdersTotal,\n    wsUserOrdersTotalToday\n  } = useSelector(store => store.wsUserOrders);\n  const {\n    wsError,\n    wsConnected,\n    wsOrders,\n    wsOrdersTotal,\n    wsOrdersTotalToday\n  } = useSelector(store => store.wsOrders);\n  useEffect(() => {\n    const accessToken = getCookie('accessToken'); //dispatch({ type: wsUserConnectionStart, payload: `?token=${accessToken}` });\n\n    dispatch({\n      type: wsUserConnectionStart,\n      payload: ':3002'\n    });\n  }, [dispatch]);\n  const order = useMemo(() => {\n    if (wsOrders) {\n      const allOrders = wsOrders.find(order => order._id === id);\n      if (allOrders) return allOrders;\n    }\n\n    if (wsUserOrders) {\n      const userOrders = wsUserOrders.find(order => order._id === id);\n\n      if (userOrders) {\n        return userOrders;\n      } else {\n        console.log('orders is empty');\n        return null;\n      }\n    }\n  }, [wsOrders, wsUserOrders]);\n  if (!order) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles['order-information'],\n    children: /*#__PURE__*/_jsxDEV(OrderInformationComponent, {\n      order: order\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n};\n\n_s(OrderInformationPage, \"vY0h2pUx1uriuGT/mpQAgQRhPDE=\", false, function () {\n  return [useDispatch, useParams, useSelector, useSelector];\n});\n\n_c = OrderInformationPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"OrderInformationPage\");","map":{"version":3,"names":["styles","useSelector","useDispatch","useMemo","React","useEffect","useParams","OrderInformationComponent","wsUserConnectionStart","getCookie","OrderInformationPage","dispatch","id","wsUserError","wsUserConnected","wsUserOrders","wsUserOrdersTotal","wsUserOrdersTotalToday","store","wsError","wsConnected","wsOrders","wsOrdersTotal","wsOrdersTotalToday","accessToken","type","payload","order","allOrders","find","_id","userOrders","console","log"],"sources":["/home/gog3d/JS/6-yndex-react/0-project/react-burger/src/pages/order-information-page.tsx"],"sourcesContent":["import styles from './order-information-page.module.css';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useMemo } from 'react'\nimport React, { useState, useEffect, useCallback } from 'react';\nimport {\n  /*useHistory,\n  useLocation,*/\n  useParams\n} from \"react-router-dom\";\n\nimport OrderInformationComponent from '../components/order-information-component/order-information-component';\nimport { TWsState, TWsDataType, TOrders, RootState }  from '../redux/action-types';\n\nimport { wsUserConnectionStart } from '../redux/actions/wsUserAction';\nimport { getCookie } from '../redux/utils';\n\nexport const OrderInformationPage: React.FC = () => {\n  const dispatch = useDispatch();\n  //const { orders } = useSelector((store: RootState) => store.orders.orders);\n  const { id } = useParams<{ id: string }>();\n\n  \n  const { \n    wsUserError, \n    wsUserConnected, \n    wsUserOrders, \n    wsUserOrdersTotal, \n    wsUserOrdersTotalToday \n  } = useSelector((store: TOrders) => store.wsUserOrders);\n\n  const { \n    wsError, \n    wsConnected, \n    wsOrders, \n    wsOrdersTotal, \n    wsOrdersTotalToday \n  } = useSelector((store: TOrders) => store.wsOrders);\n\n\n  useEffect(() => {\n    const accessToken = getCookie('accessToken')\n    //dispatch({ type: wsUserConnectionStart, payload: `?token=${accessToken}` });\n    dispatch({ type: wsUserConnectionStart, payload: ':3002' });\n  }, [dispatch]);\n  \n  const order = useMemo(() => {\n      if(wsOrders) {\n        const allOrders = wsOrders.find((order: TOrders) => order._id === id);\n        if (allOrders) return allOrders;\n      } \n      if(wsUserOrders) {\n        const userOrders = wsUserOrders.find((order: TOrders) => order._id === id);\n        if (userOrders) {\n          return userOrders;\n        } else{\n          console.log('orders is empty');\n          return null;\n        }\n      } \n  }, [wsOrders, wsUserOrders]);\n\n  if (!order) return null;\n\n  return (\n    <div className={styles['order-information']} >\n      <OrderInformationComponent order={order}/>\n    </div>\n  )\n}\n"],"mappings":";;;AAAA,OAAOA,MAAP,MAAmB,qCAAnB;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,OAAT,QAAwB,OAAxB;AACA,OAAOC,KAAP,IAA0BC,SAA1B,QAAwD,OAAxD;AACA;AACE;AACF;AACEC,SAHF,QAIO,kBAJP;AAMA,OAAOC,yBAAP,MAAsC,uEAAtC;AAGA,SAASC,qBAAT,QAAsC,+BAAtC;AACA,SAASC,SAAT,QAA0B,gBAA1B;;AAEA,OAAO,MAAMC,oBAA8B,GAAG,MAAM;EAAA;;EAClD,MAAMC,QAAQ,GAAGT,WAAW,EAA5B,CADkD,CAElD;;EACA,MAAM;IAAEU;EAAF,IAASN,SAAS,EAAxB;EAGA,MAAM;IACJO,WADI;IAEJC,eAFI;IAGJC,YAHI;IAIJC,iBAJI;IAKJC;EALI,IAMFhB,WAAW,CAAEiB,KAAD,IAAoBA,KAAK,CAACH,YAA3B,CANf;EAQA,MAAM;IACJI,OADI;IAEJC,WAFI;IAGJC,QAHI;IAIJC,aAJI;IAKJC;EALI,IAMFtB,WAAW,CAAEiB,KAAD,IAAoBA,KAAK,CAACG,QAA3B,CANf;EASAhB,SAAS,CAAC,MAAM;IACd,MAAMmB,WAAW,GAAGf,SAAS,CAAC,aAAD,CAA7B,CADc,CAEd;;IACAE,QAAQ,CAAC;MAAEc,IAAI,EAAEjB,qBAAR;MAA+BkB,OAAO,EAAE;IAAxC,CAAD,CAAR;EACD,CAJQ,EAIN,CAACf,QAAD,CAJM,CAAT;EAMA,MAAMgB,KAAK,GAAGxB,OAAO,CAAC,MAAM;IACxB,IAAGkB,QAAH,EAAa;MACX,MAAMO,SAAS,GAAGP,QAAQ,CAACQ,IAAT,CAAeF,KAAD,IAAoBA,KAAK,CAACG,GAAN,KAAclB,EAAhD,CAAlB;MACA,IAAIgB,SAAJ,EAAe,OAAOA,SAAP;IAChB;;IACD,IAAGb,YAAH,EAAiB;MACf,MAAMgB,UAAU,GAAGhB,YAAY,CAACc,IAAb,CAAmBF,KAAD,IAAoBA,KAAK,CAACG,GAAN,KAAclB,EAApD,CAAnB;;MACA,IAAImB,UAAJ,EAAgB;QACd,OAAOA,UAAP;MACD,CAFD,MAEM;QACJC,OAAO,CAACC,GAAR,CAAY,iBAAZ;QACA,OAAO,IAAP;MACD;IACF;EACJ,CAdoB,EAclB,CAACZ,QAAD,EAAWN,YAAX,CAdkB,CAArB;EAgBA,IAAI,CAACY,KAAL,EAAY,OAAO,IAAP;EAEZ,oBACE;IAAK,SAAS,EAAE3B,MAAM,CAAC,mBAAD,CAAtB;IAAA,uBACE,QAAC,yBAAD;MAA2B,KAAK,EAAE2B;IAAlC;MAAA;MAAA;MAAA;IAAA;EADF;IAAA;IAAA;IAAA;EAAA,QADF;AAKD,CApDM;;GAAMjB,oB;UACMR,W,EAEFI,S,EASXL,W,EAQAA,W;;;KApBOS,oB"},"metadata":{},"sourceType":"module"}