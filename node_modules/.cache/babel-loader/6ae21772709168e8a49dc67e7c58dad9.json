{"ast":null,"code":"var _jsxFileName = \"/home/gog3d/JS/6-yndex-react/0-project/react-burger/src/components/protected-route.tsx\",\n    _s = $RefreshSig$();\n\nimport { Redirect, Route } from 'react-router-dom';\nimport React from 'react';\nimport { useLocation } from \"react-router-dom\";\nimport { useAppSelector } from '../redux/hooks';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ProtectedRoute = props => {\n  _s();\n\n  const {\n    children,\n    rest\n  } = props;\n  const {\n    authFailed\n  } = useAppSelector(store => store.auth);\n  const location = useLocation();\n  return /*#__PURE__*/_jsxDEV(Route, { ...rest,\n    render: _ref => {\n      let {\n        location\n      } = _ref;\n      return authFailed ? /*#__PURE__*/_jsxDEV(Redirect, {\n        to: {\n          pathname: '/login',\n          state: {\n            from: location\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 15\n      }, this) : children;\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ProtectedRoute, \"e2Q9olBXqT4d/XX5OW6lasIanUE=\", false, function () {\n  return [useAppSelector, useLocation];\n});\n\n_c = ProtectedRoute;\nexport default ProtectedRoute;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProtectedRoute\");","map":{"version":3,"names":["Redirect","Route","React","useLocation","useAppSelector","ProtectedRoute","props","children","rest","authFailed","store","auth","location","pathname","state","from"],"sources":["/home/gog3d/JS/6-yndex-react/0-project/react-burger/src/components/protected-route.tsx"],"sourcesContent":["import { Redirect, Route, RouterProps } from 'react-router-dom';\nimport React from 'react';\nimport {\n  useLocation,\n} from \"react-router-dom\";\nimport { useAppSelector } from '../redux/hooks';\n\ninterface ProtectedRouterProps extends RouterProps {\n  children: any;\n  path: any;\n  exact: boolean;\n  history: string;\n}\n\nconst ProtectedRoute: React.FC<ProtectedRouterProps> = (props) => {\n  const { children, rest } = props;\n  const {\n    authFailed,\n  } = useAppSelector((store) => store.auth);\n  \n  const location = useLocation();\n\n  return (\n    <Route {...rest} render={\n      ({ location }) =>\n        authFailed ? (\n              <Redirect to={{\n                pathname: '/login',\n                state: { from: location }\n              }}/>\n        ) : (\n              children\n            )\n      }\n    />\n  );\n\n}\n\nexport default ProtectedRoute;"],"mappings":";;;AAAA,SAASA,QAAT,EAAmBC,KAAnB,QAA6C,kBAA7C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SACEC,WADF,QAEO,kBAFP;AAGA,SAASC,cAAT,QAA+B,gBAA/B;;;AASA,MAAMC,cAA8C,GAAIC,KAAD,IAAW;EAAA;;EAChE,MAAM;IAAEC,QAAF;IAAYC;EAAZ,IAAqBF,KAA3B;EACA,MAAM;IACJG;EADI,IAEFL,cAAc,CAAEM,KAAD,IAAWA,KAAK,CAACC,IAAlB,CAFlB;EAIA,MAAMC,QAAQ,GAAGT,WAAW,EAA5B;EAEA,oBACE,QAAC,KAAD,OAAWK,IAAX;IAAiB,MAAM,EACrB;MAAA,IAAC;QAAEI;MAAF,CAAD;MAAA,OACEH,UAAU,gBACJ,QAAC,QAAD;QAAU,EAAE,EAAE;UACZI,QAAQ,EAAE,QADE;UAEZC,KAAK,EAAE;YAAEC,IAAI,EAAEH;UAAR;QAFK;MAAd;QAAA;QAAA;QAAA;MAAA,QADI,GAMJL,QAPR;IAAA;EADF;IAAA;IAAA;IAAA;EAAA,QADF;AAeD,CAvBD;;GAAMF,c;UAIAD,c,EAEaD,W;;;KANbE,c;AAyBN,eAAeA,cAAf"},"metadata":{},"sourceType":"module"}