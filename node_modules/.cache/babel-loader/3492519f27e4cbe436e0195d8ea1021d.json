{"ast":null,"code":"var _jsxFileName = \"/home/gog3d/JS/6-yndex-react/0-project/react-burger/src/components/burger-ingredients-list-component-item/burger-ingredients-list-component-item.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useMemo } from 'react';\nimport styles from './burger-ingredients-list-component-item.module.css';\nimport { CurrencyIcon, Counter } from '@ya.praktikum/react-developer-burger-ui-components';\nimport { useDrag } from \"react-dnd\";\nimport { useAppSelector } from '../../redux/hooks';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n;\n\nconst BurgerIngredientsListComponentItem = props => {\n  _s();\n\n  const {\n    item\n  } = props;\n  const constructorIngredients = useAppSelector(store => store.ingredients.constructorIngredients);\n  const num = useMemo(() => {\n    if (item.type === 'bun') {\n      return constructorIngredients.bun === null ? 0 : constructorIngredients.bun._id === item._id ? 1 : 0;\n    } else {\n      return constructorIngredients.ingredients.reduce((sum, comp) => comp._id === item._id ? ++sum : sum, 0);\n    }\n  }, [constructorIngredients.ingredients, constructorIngredients.bun]);\n  const [{\n    isDrag\n  }, dragRef] = useDrag({\n    type: \"ingredients\",\n    item: item,\n    collect: monitor => ({\n      isDrag: monitor.isDragging()\n    })\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: dragRef,\n      className: styles['burger-ingredients-list-component-item'],\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        className: styles['burger-ingredients-list-component-item-img'],\n        src: item.image\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles['burger-ingredients-list-component-item-price'],\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles['burger-ingredients-list-component-item-price-span'],\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text text_type_main-default\",\n            children: item.price\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CurrencyIcon, {\n          type: \"primary\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles['burger-ingredients-list-component-item-counter'],\n        children: item.name && num > 0 && /*#__PURE__*/_jsxDEV(Counter, {\n          count: num\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles['burger-ingredients-list-component-item-name'],\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text text_type_main-default text-center\",\n          children: item.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this)]\n    }, item._id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n\n_s(BurgerIngredientsListComponentItem, \"OD2aKajnUMmSUA34cm8S8eSNIqE=\", false, function () {\n  return [useAppSelector, useDrag];\n});\n\n_c = BurgerIngredientsListComponentItem;\nexport default BurgerIngredientsListComponentItem;\n\nvar _c;\n\n$RefreshReg$(_c, \"BurgerIngredientsListComponentItem\");","map":{"version":3,"names":["React","useMemo","styles","CurrencyIcon","Counter","useDrag","useAppSelector","BurgerIngredientsListComponentItem","props","item","constructorIngredients","store","ingredients","num","type","bun","_id","reduce","sum","comp","isDrag","dragRef","collect","monitor","isDragging","image","price","name"],"sources":["/home/gog3d/JS/6-yndex-react/0-project/react-burger/src/components/burger-ingredients-list-component-item/burger-ingredients-list-component-item.tsx"],"sourcesContent":["import React, { useMemo } from 'react';\nimport styles from './burger-ingredients-list-component-item.module.css';\nimport {CurrencyIcon, Counter} from '@ya.praktikum/react-developer-burger-ui-components';\nimport { useDrag } from \"react-dnd\";\nimport { TIngredient}  from '../../types/data';\n\nimport { useAppSelector } from '../../redux/hooks';\n\ninterface BurgerIngredientsListComponentItemProps {\n  item: TIngredient;\n};\n\nconst BurgerIngredientsListComponentItem: React.FC<BurgerIngredientsListComponentItemProps> = (props) => {\n  const { item } = props;\n  const constructorIngredients = useAppSelector((store) => store.ingredients.constructorIngredients);\n\n  const num = useMemo(\n    () => {\n      if (item.type === 'bun') {\n        return constructorIngredients.bun === null ? 0 : constructorIngredients.bun._id === item._id ? 1 : 0;\n      } else {\n        return constructorIngredients.ingredients.reduce((sum: number, comp: TIngredient) => comp._id === item._id ? ++sum : sum, 0)\n      }\n    }, [constructorIngredients.ingredients, constructorIngredients.bun]\n  );\n\n  const [{isDrag}, dragRef] = useDrag({\n    type: \"ingredients\",\n    item: item,\n    collect: monitor => ({\n      isDrag: monitor.isDragging()\n    })\n  });\n\n  return (\n    <>\n      <div\n        ref={dragRef}\n        key={item._id}\n        className={styles['burger-ingredients-list-component-item']}\n      >\n        <img\n          className={styles['burger-ingredients-list-component-item-img']}\n          src={item.image}\n        />\n        <div className={styles['burger-ingredients-list-component-item-price']}>\n          <div className={styles['burger-ingredients-list-component-item-price-span']}>\n            <span className=\"text text_type_main-default\">\n              {item.price}\n            </span>\n          </div>\n          <CurrencyIcon type=\"primary\" />\n        </div>\n        <div className={styles['burger-ingredients-list-component-item-counter']} >\n          { item.name && num > 0 &&\n            <Counter count={num} />\n          }\n        </div>\n          <div className={styles['burger-ingredients-list-component-item-name']} >\n            <span className=\"text text_type_main-default text-center\">\n              {item.name}\n            </span>\n          </div>\n      </div>\n   </>\n  );\n};\n\n\nexport default BurgerIngredientsListComponentItem;"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,OAAhB,QAA+B,OAA/B;AACA,OAAOC,MAAP,MAAmB,qDAAnB;AACA,SAAQC,YAAR,EAAsBC,OAAtB,QAAoC,oDAApC;AACA,SAASC,OAAT,QAAwB,WAAxB;AAGA,SAASC,cAAT,QAA+B,mBAA/B;;;AAIC;;AAED,MAAMC,kCAAqF,GAAIC,KAAD,IAAW;EAAA;;EACvG,MAAM;IAAEC;EAAF,IAAWD,KAAjB;EACA,MAAME,sBAAsB,GAAGJ,cAAc,CAAEK,KAAD,IAAWA,KAAK,CAACC,WAAN,CAAkBF,sBAA9B,CAA7C;EAEA,MAAMG,GAAG,GAAGZ,OAAO,CACjB,MAAM;IACJ,IAAIQ,IAAI,CAACK,IAAL,KAAc,KAAlB,EAAyB;MACvB,OAAOJ,sBAAsB,CAACK,GAAvB,KAA+B,IAA/B,GAAsC,CAAtC,GAA0CL,sBAAsB,CAACK,GAAvB,CAA2BC,GAA3B,KAAmCP,IAAI,CAACO,GAAxC,GAA8C,CAA9C,GAAkD,CAAnG;IACD,CAFD,MAEO;MACL,OAAON,sBAAsB,CAACE,WAAvB,CAAmCK,MAAnC,CAA0C,CAACC,GAAD,EAAcC,IAAd,KAAoCA,IAAI,CAACH,GAAL,KAAaP,IAAI,CAACO,GAAlB,GAAwB,EAAEE,GAA1B,GAAgCA,GAA9G,EAAmH,CAAnH,CAAP;IACD;EACF,CAPgB,EAOd,CAACR,sBAAsB,CAACE,WAAxB,EAAqCF,sBAAsB,CAACK,GAA5D,CAPc,CAAnB;EAUA,MAAM,CAAC;IAACK;EAAD,CAAD,EAAWC,OAAX,IAAsBhB,OAAO,CAAC;IAClCS,IAAI,EAAE,aAD4B;IAElCL,IAAI,EAAEA,IAF4B;IAGlCa,OAAO,EAAEC,OAAO,KAAK;MACnBH,MAAM,EAAEG,OAAO,CAACC,UAAR;IADW,CAAL;EAHkB,CAAD,CAAnC;EAQA,oBACE;IAAA,uBACE;MACE,GAAG,EAAEH,OADP;MAGE,SAAS,EAAEnB,MAAM,CAAC,wCAAD,CAHnB;MAAA,wBAKE;QACE,SAAS,EAAEA,MAAM,CAAC,4CAAD,CADnB;QAEE,GAAG,EAAEO,IAAI,CAACgB;MAFZ;QAAA;QAAA;QAAA;MAAA,QALF,eASE;QAAK,SAAS,EAAEvB,MAAM,CAAC,8CAAD,CAAtB;QAAA,wBACE;UAAK,SAAS,EAAEA,MAAM,CAAC,mDAAD,CAAtB;UAAA,uBACE;YAAM,SAAS,EAAC,6BAAhB;YAAA,UACGO,IAAI,CAACiB;UADR;YAAA;YAAA;YAAA;UAAA;QADF;UAAA;UAAA;UAAA;QAAA,QADF,eAME,QAAC,YAAD;UAAc,IAAI,EAAC;QAAnB;UAAA;UAAA;UAAA;QAAA,QANF;MAAA;QAAA;QAAA;QAAA;MAAA,QATF,eAiBE;QAAK,SAAS,EAAExB,MAAM,CAAC,gDAAD,CAAtB;QAAA,UACIO,IAAI,CAACkB,IAAL,IAAad,GAAG,GAAG,CAAnB,iBACA,QAAC,OAAD;UAAS,KAAK,EAAEA;QAAhB;UAAA;UAAA;UAAA;QAAA;MAFJ;QAAA;QAAA;QAAA;MAAA,QAjBF,eAsBI;QAAK,SAAS,EAAEX,MAAM,CAAC,6CAAD,CAAtB;QAAA,uBACE;UAAM,SAAS,EAAC,yCAAhB;UAAA,UACGO,IAAI,CAACkB;QADR;UAAA;UAAA;UAAA;QAAA;MADF;QAAA;QAAA;QAAA;MAAA,QAtBJ;IAAA,GAEOlB,IAAI,CAACO,GAFZ;MAAA;MAAA;MAAA;IAAA;EADF,iBADF;AAgCD,CAtDD;;GAAMT,kC;UAE2BD,c,EAYHD,O;;;KAdxBE,kC;AAyDN,eAAeA,kCAAf"},"metadata":{},"sourceType":"module"}