{"ast":null,"code":"var _jsxFileName = \"/home/gog3d/JS/6-yndex-react/0-project/react-burger/src/pages/constructor-page.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useMemo } from 'react';\nimport { DndProvider } from \"react-dnd\";\nimport { HTML5Backend } from \"react-dnd-html5-backend\";\nimport { useSelector, useDispatch } from 'react-redux';\nimport styles from './constructor-page.module.css';\nimport BurgerConstructor from '../components/burger-constructor/burger-constructor';\nimport BurgerIngredients from '../components/burger-ingredients/burger-ingredients'; //import { REFRESH_ORDERDETAILS_ITEMS, } from '../redux/actions/ingredients';\n\nimport { refreshOrderdetailsItems } from '../redux/actions/ingredients';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const ConstructorPage = () => {\n  _s();\n\n  const {\n    constructorIngredients,\n    burgerIngredients,\n    burgerIngredientsRequest,\n    burgerIngredientsFailed\n  } = useSelector(store => store.ingredients);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    const items = [...constructorIngredients.ingredients, constructorIngredients.bun];\n    dispatch({\n      type: refreshOrderdetailsItems,\n      orderDetailsItems: items\n    });\n  }, [constructorIngredients.bun, constructorIngredients.ingredients]);\n  const burgerIngredientsStatus = useMemo(() => {\n    return burgerIngredientsFailed ? /*#__PURE__*/_jsxDEV(\"p\", {\n      className: styles.text,\n      children: \"\\u041F\\u0440\\u043E\\u0438\\u0437\\u043E\\u0448\\u043B\\u0430 \\u043E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u043F\\u0440\\u0438 \\u043F\\u043E\\u043B\\u0443\\u0447\\u0435\\u043D\\u0438\\u0438 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }, this) : burgerIngredientsRequest ? /*#__PURE__*/_jsxDEV(\"p\", {\n      className: styles.text,\n      children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }, this) : burgerIngredients ? '' : /*#__PURE__*/_jsxDEV(\"p\", {\n      className: styles.text,\n      children: \"\\u041F\\u0440\\u043E\\u0438\\u0437\\u043E\\u0448\\u043B\\u0430 \\u043E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u043F\\u0440\\u0438 \\u043F\\u043E\\u043B\\u0443\\u0447\\u0435\\u043D\\u0438\\u0438 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }, this);\n  }, [burgerIngredientsRequest, burgerIngredients, burgerIngredientsFailed]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles[\"page__content\"],\n      children: /*#__PURE__*/_jsxDEV(\"main\", {\n        className: styles[\"main\"],\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles[\"main-span\"],\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: styles[\"first-span\"],\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text text_type_main-large\",\n              children: \"\\u0421\\u043E\\u0431\\u0435\\u0440\\u0438 \\u0431\\u0443\\u0440\\u0433\\u0435\\u0440\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: styles[\"second-span\"]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 9\n        }, this), burgerIngredientsStatus, /*#__PURE__*/_jsxDEV(DndProvider, {\n          backend: HTML5Backend,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles[\"main-constructor-container\"],\n            children: [!burgerIngredientsRequest && /*#__PURE__*/_jsxDEV(BurgerIngredients, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 15\n            }, this), !burgerIngredientsRequest && /*#__PURE__*/_jsxDEV(BurgerConstructor, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }, this)\n  }, void 0, false);\n};\n\n_s(ConstructorPage, \"cUEBq5gn1H+svVIPnWISbJcUxMQ=\", false, function () {\n  return [useSelector, useDispatch];\n});\n\n_c = ConstructorPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"ConstructorPage\");","map":{"version":3,"names":["React","useEffect","useMemo","DndProvider","HTML5Backend","useSelector","useDispatch","styles","BurgerConstructor","BurgerIngredients","refreshOrderdetailsItems","ConstructorPage","constructorIngredients","burgerIngredients","burgerIngredientsRequest","burgerIngredientsFailed","store","ingredients","dispatch","items","bun","type","orderDetailsItems","burgerIngredientsStatus","text"],"sources":["/home/gog3d/JS/6-yndex-react/0-project/react-burger/src/pages/constructor-page.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef, useContext, useMemo } from 'react';\nimport { DndProvider } from \"react-dnd\";\nimport { HTML5Backend } from \"react-dnd-html5-backend\";\nimport { useSelector, useDispatch } from 'react-redux';\nimport styles from './constructor-page.module.css';\n\nimport BurgerConstructor from '../components/burger-constructor/burger-constructor';\nimport BurgerIngredients from '../components/burger-ingredients/burger-ingredients';\n\n//import { REFRESH_ORDERDETAILS_ITEMS, } from '../redux/actions/ingredients';\n\nimport {\n  refreshOrderdetailsItems,\n} from '../redux/actions/ingredients';\n\nimport { TWsState, TWsDataType, TOrders, RootState }  from '../redux/action-types';\nimport { TIngredient}  from '../redux/action-types/data';\nimport { Location } from 'history';\n\n\nexport const ConstructorPage: React.FC = () => {\n  const {\n    constructorIngredients,\n    burgerIngredients,\n    burgerIngredientsRequest,\n    burgerIngredientsFailed\n    } = useSelector((store: RootState) => store.ingredients);\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    const items = [...constructorIngredients.ingredients, constructorIngredients.bun];\n    dispatch({ type: refreshOrderdetailsItems, orderDetailsItems: items });\n  }, [constructorIngredients.bun, constructorIngredients.ingredients]);\n\n  const burgerIngredientsStatus = useMemo(\n    () => {\n      return burgerIngredientsFailed ? (\n        <p className={styles.text}>Произошла ошибка при получении данных</p>\n      ) : burgerIngredientsRequest ? (\n        <p className={styles.text}>Загрузка...</p>\n      ) : burgerIngredients ? (\n       ''\n      ) : (\n        <p className={styles.text}>Произошла ошибка при получении данных</p>\n      );\n    },\n    [burgerIngredientsRequest, burgerIngredients, burgerIngredientsFailed]\n    );\n\n   return (\n   <>\n    <div className={styles[\"page__content\"]}>\n      <main className={styles[\"main\"]}>\n        <div className={styles[\"main-span\"]}>\n          <span className={styles[\"first-span\"]}>\n            <span className=\"text text_type_main-large\">Собери бургер</span>\n          </span>\n          <span className={styles[\"second-span\"]}></span>\n        </div>\n        {burgerIngredientsStatus}\n        <DndProvider backend={HTML5Backend}>\n          <div className={styles[\"main-constructor-container\"]}>\n            {\n              !burgerIngredientsRequest &&\n              <BurgerIngredients />\n            }\n            {\n              !burgerIngredientsRequest &&\n              <BurgerConstructor />\n            }\n          </div>\n        </DndProvider>\n      </main>\n    </div>\n  </>\n  );\n};\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAA0BC,SAA1B,EAAyDC,OAAzD,QAAwE,OAAxE;AACA,SAASC,WAAT,QAA4B,WAA5B;AACA,SAASC,YAAT,QAA6B,yBAA7B;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,OAAOC,MAAP,MAAmB,+BAAnB;AAEA,OAAOC,iBAAP,MAA8B,qDAA9B;AACA,OAAOC,iBAAP,MAA8B,qDAA9B,C,CAEA;;AAEA,SACEC,wBADF,QAEO,8BAFP;;;AASA,OAAO,MAAMC,eAAyB,GAAG,MAAM;EAAA;;EAC7C,MAAM;IACJC,sBADI;IAEJC,iBAFI;IAGJC,wBAHI;IAIJC;EAJI,IAKAV,WAAW,CAAEW,KAAD,IAAsBA,KAAK,CAACC,WAA7B,CALjB;EAOA,MAAMC,QAAQ,GAAGZ,WAAW,EAA5B;EAEAL,SAAS,CAAC,MAAM;IACd,MAAMkB,KAAK,GAAG,CAAC,GAAGP,sBAAsB,CAACK,WAA3B,EAAwCL,sBAAsB,CAACQ,GAA/D,CAAd;IACAF,QAAQ,CAAC;MAAEG,IAAI,EAAEX,wBAAR;MAAkCY,iBAAiB,EAAEH;IAArD,CAAD,CAAR;EACD,CAHQ,EAGN,CAACP,sBAAsB,CAACQ,GAAxB,EAA6BR,sBAAsB,CAACK,WAApD,CAHM,CAAT;EAKA,MAAMM,uBAAuB,GAAGrB,OAAO,CACrC,MAAM;IACJ,OAAOa,uBAAuB,gBAC5B;MAAG,SAAS,EAAER,MAAM,CAACiB,IAArB;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAD4B,GAE1BV,wBAAwB,gBAC1B;MAAG,SAAS,EAAEP,MAAM,CAACiB,IAArB;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAD0B,GAExBX,iBAAiB,GACpB,EADoB,gBAGnB;MAAG,SAAS,EAAEN,MAAM,CAACiB,IAArB;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAPF;EASD,CAXoC,EAYrC,CAACV,wBAAD,EAA2BD,iBAA3B,EAA8CE,uBAA9C,CAZqC,CAAvC;EAeC,oBACA;IAAA,uBACC;MAAK,SAAS,EAAER,MAAM,CAAC,eAAD,CAAtB;MAAA,uBACE;QAAM,SAAS,EAAEA,MAAM,CAAC,MAAD,CAAvB;QAAA,wBACE;UAAK,SAAS,EAAEA,MAAM,CAAC,WAAD,CAAtB;UAAA,wBACE;YAAM,SAAS,EAAEA,MAAM,CAAC,YAAD,CAAvB;YAAA,uBACE;cAAM,SAAS,EAAC,2BAAhB;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA;UADF;YAAA;YAAA;YAAA;UAAA,QADF,eAIE;YAAM,SAAS,EAAEA,MAAM,CAAC,aAAD;UAAvB;YAAA;YAAA;YAAA;UAAA,QAJF;QAAA;UAAA;UAAA;UAAA;QAAA,QADF,EAOGgB,uBAPH,eAQE,QAAC,WAAD;UAAa,OAAO,EAAEnB,YAAtB;UAAA,uBACE;YAAK,SAAS,EAAEG,MAAM,CAAC,4BAAD,CAAtB;YAAA,WAEI,CAACO,wBAAD,iBACA,QAAC,iBAAD;cAAA;cAAA;cAAA;YAAA,QAHJ,EAMI,CAACA,wBAAD,iBACA,QAAC,iBAAD;cAAA;cAAA;cAAA;YAAA,QAPJ;UAAA;YAAA;YAAA;YAAA;UAAA;QADF;UAAA;UAAA;UAAA;QAAA,QARF;MAAA;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA;EADD,iBADA;AA2BF,CAzDM;;GAAMH,e;UAMLN,W,EAEWC,W;;;KARNK,e"},"metadata":{},"sourceType":"module"}