{"ast":null,"code":"var _jsxFileName = \"/home/gog3d/JS/6-yndex-react/0-project/react-burger/src/components/protected-route.tsx\",\n    _s = $RefreshSig$();\n\nimport { Redirect, Route } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { useLocation } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ProtectedRoute = props => {\n  _s();\n\n  const {\n    children,\n    rest\n  } = props;\n  const {\n    authFailed\n  } = useSelector(store => store.auth);\n  const location = useLocation();\n  return /*#__PURE__*/_jsxDEV(Route, { ...rest,\n    render: _ref => {\n      let {\n        location\n      } = _ref;\n      return authFailed ? /*#__PURE__*/_jsxDEV(Redirect, {\n        to: {\n          pathname: '/login',\n          state: {\n            from: location\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 15\n      }, this) : children;\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 20,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ProtectedRoute, \"yKehilTP3NCFy3irhTl7EiY6kpo=\", false, function () {\n  return [useSelector, useLocation];\n});\n\n_c = ProtectedRoute;\nexport default ProtectedRoute;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProtectedRoute\");","map":{"version":3,"names":["Redirect","Route","useSelector","useLocation","ProtectedRoute","props","children","rest","authFailed","store","auth","location","pathname","state","from"],"sources":["/home/gog3d/JS/6-yndex-react/0-project/react-burger/src/components/protected-route.tsx"],"sourcesContent":["import { Redirect, Route } from 'react-router-dom';\nimport { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport {\n  useLocation,\n} from \"react-router-dom\";\nimport { RootState } from '../redux/action-types';\n\n\nconst ProtectedRoute: React.FC<{ children:React.ReactNode, rest: any}> = (props) => {\n  const { children, rest } = props;\n  const {\n    authFailed,\n  } = useSelector((store: RootState) => store.auth);\n  \n  const location = useLocation();\n\n  return (\n    <Route {...rest} render={\n      ({ location }) =>\n        authFailed ? (\n              <Redirect to={{\n                pathname: '/login',\n                state: { from: location }\n              }}/>\n        ) : (\n              children\n            )\n      }\n    />\n  );\n\n}\n\nexport default ProtectedRoute;"],"mappings":";;;AAAA,SAASA,QAAT,EAAmBC,KAAnB,QAAgC,kBAAhC;AAEA,SAAsBC,WAAtB,QAAyC,aAAzC;AAEA,SACEC,WADF,QAEO,kBAFP;;;AAMA,MAAMC,cAAgE,GAAIC,KAAD,IAAW;EAAA;;EAClF,MAAM;IAAEC,QAAF;IAAYC;EAAZ,IAAqBF,KAA3B;EACA,MAAM;IACJG;EADI,IAEFN,WAAW,CAAEO,KAAD,IAAsBA,KAAK,CAACC,IAA7B,CAFf;EAIA,MAAMC,QAAQ,GAAGR,WAAW,EAA5B;EAEA,oBACE,QAAC,KAAD,OAAWI,IAAX;IAAiB,MAAM,EACrB;MAAA,IAAC;QAAEI;MAAF,CAAD;MAAA,OACEH,UAAU,gBACJ,QAAC,QAAD;QAAU,EAAE,EAAE;UACZI,QAAQ,EAAE,QADE;UAEZC,KAAK,EAAE;YAAEC,IAAI,EAAEH;UAAR;QAFK;MAAd;QAAA;QAAA;QAAA;MAAA,QADI,GAMJL,QAPR;IAAA;EADF;IAAA;IAAA;IAAA;EAAA,QADF;AAeD,CAvBD;;GAAMF,c;UAIAF,W,EAEaC,W;;;KANbC,c;AAyBN,eAAeA,cAAf"},"metadata":{},"sourceType":"module"}