{"ast":null,"code":"import { createReducer } from \"@reduxjs/toolkit\";\nimport { v4 as uuidv4 } from 'uuid';\nimport { addConstructorIngredient, deleteConstructorIngredient, updateConstructorIngredients, addModalIngredients, deleteModalIngredients, getIngredientsRequest, getIngredientsSuccess, getIngredientsFailed, getOrderdetailsRequest, getOrderdetailsSuccess, getOrderdetailsFailed, refreshBunsScroll, refreshSaucesScroll, refreshMainsScroll, refreshOrderdetailsItems } from '../actions/ingredients';\nexport const initialState = {\n  burgerIngredients: [],\n  burgerIngredientsRequest: false,\n  burgerIngredientsFailed: false,\n  constructorIngredients: {\n    bun: {},\n    ingredients: []\n  },\n  modalIngredient: {},\n  orderDetailsItems: null,\n  orderDetails: null,\n  orderDetailsRequest: false,\n  orderDetailsFailed: false,\n  bunsScroll: true,\n  saucesScroll: false,\n  mainsScroll: false,\n  restorePassword: {},\n  restorePasswordRequest: false,\n  restorePasswordFailed: false\n};\nexport const ingredientsReducer = createReducer(initialState, builder => {\n  builder.addCase(getIngredientsRequest, (state, action) => {\n    state.burgerIngredientsRequest = true;\n  }).addCase(getIngredientsSuccess, (state, action) => {\n    state.burgerIngredientsFailed = false; //state.burgerIngredients = action.burgerIngredients;\n\n    state.burgerIngredients = action.payload;\n    state.burgerIngredientsRequest = false;\n  }).addCase(getIngredientsFailed, (state, action) => {\n    state.burgerIngredientsFailed = true;\n    state.burgerIngredientsRequest = false;\n  }).addCase(getOrderdetailsRequest, (state, action) => {\n    state.orderDetailsRequest = true;\n  }).addCase(getOrderdetailsSuccess, (state, action) => {\n    state.orderDetailsFailed = false;\n    state.orderDetails = action.orderDetails;\n    state.orderDetailsRequest = false;\n  }).addCase(getOrderdetailsFailed, (state, action) => {\n    state.orderDetailsFailed = true;\n    state.orderDetailsRequest = false;\n  }).addCase(refreshOrderdetailsItems, (state, action) => {\n    state.orderDetailsItems = action.orderDetailsItems;\n  }).addCase(addConstructorIngredient, (state, action) => {\n    if (action.constructorIngredient.type === 'bun') {\n      state.constructorIngredients.bun = action.constructorIngredient;\n    } else {\n      state.constructorIngredients.ingredients.push({ ...action.constructorIngredient,\n        uuid: uuidv4()\n      });\n    }\n  }).addCase(updateConstructorIngredients, (state, action) => {\n    state.constructorIngredients.ingredients = [...action.ingredients];\n  }).addCase(deleteConstructorIngredient, (state, action) => {\n    state.constructorIngredients.ingredients.splice(action.index, 1); //...state, constructorIngredients: {...state.constructorIngredients, ingredients: [...state.constructorIngredients.ingredients]\n  }).addCase(deleteModalIngredients, (state, action) => {\n    state.modalIngredient = {};\n  }).addCase(addModalIngredients, (state, action) => {\n    state.modalIngredient = action.item;\n  }).addCase(refreshBunsScroll, (state, action) => {\n    state.bunsScroll = true;\n    state.saucesScroll = false;\n    state.mainsScroll = false;\n  }).addCase(refreshSaucesScroll, (state, action) => {\n    state.bunsScroll = false;\n    state.saucesScroll = true;\n    state.mainsScroll = false;\n  }).addCase(refreshMainsScroll, (state, action) => {\n    state.bunsScroll = false;\n    state.saucesScroll = false;\n    state.mainsScroll = true;\n  });\n});","map":{"version":3,"names":["createReducer","v4","uuidv4","addConstructorIngredient","deleteConstructorIngredient","updateConstructorIngredients","addModalIngredients","deleteModalIngredients","getIngredientsRequest","getIngredientsSuccess","getIngredientsFailed","getOrderdetailsRequest","getOrderdetailsSuccess","getOrderdetailsFailed","refreshBunsScroll","refreshSaucesScroll","refreshMainsScroll","refreshOrderdetailsItems","initialState","burgerIngredients","burgerIngredientsRequest","burgerIngredientsFailed","constructorIngredients","bun","ingredients","modalIngredient","orderDetailsItems","orderDetails","orderDetailsRequest","orderDetailsFailed","bunsScroll","saucesScroll","mainsScroll","restorePassword","restorePasswordRequest","restorePasswordFailed","ingredientsReducer","builder","addCase","state","action","payload","constructorIngredient","type","push","uuid","splice","index","item"],"sources":["/home/gog3d/JS/6-yndex-react/0-project/react-burger/src/redux/reducers/ingredients.ts"],"sourcesContent":["import { createReducer } from \"@reduxjs/toolkit\";\nimport { v4 as uuidv4 } from 'uuid';\nimport {\n  addConstructorIngredient,\n  deleteConstructorIngredient,\n  updateConstructorIngredients,\n  \n  addModalIngredients,\n  deleteModalIngredients,\n  \n  getIngredientsRequest,\n  getIngredientsSuccess,\n  getIngredientsFailed,\n  \n  getOrderdetailsRequest,\n  getOrderdetailsSuccess,\n  getOrderdetailsFailed,\n  \n  refreshBunsScroll,\n  refreshSaucesScroll,\n  refreshMainsScroll,\n\n  refreshOrderdetailsItems,\n\n} from '../actions/ingredients';\n\nimport { TIngredientsState, TIngredient } from '../../types/data';\n\nexport const initialState: TIngredientsState = {\n    burgerIngredients: [],\n    burgerIngredientsRequest: false,\n    burgerIngredientsFailed: false,\n    constructorIngredients: {\n      bun: {},\n      ingredients: [],\n    },\n    modalIngredient: {},\n    orderDetailsItems: null as (null | Array<TIngredient>),\n    orderDetails: null,\n    orderDetailsRequest: false,\n    orderDetailsFailed: false,\n    bunsScroll: true,\n    saucesScroll: false,\n    mainsScroll: false,\n    \n    restorePassword: {},\n    restorePasswordRequest: false,\n    restorePasswordFailed: false,\n  };\n\nexport const ingredientsReducer = createReducer(initialState, (builder) => {\n  builder\n  .addCase(getIngredientsRequest, (state, action) => {\n    state.burgerIngredientsRequest = true;\n  })\n  .addCase(getIngredientsSuccess, (state, action) => {\n    state.burgerIngredientsFailed = false;\n    //state.burgerIngredients = action.burgerIngredients;\n    state.burgerIngredients = action.payload;\n    state.burgerIngredientsRequest = false;\n  })\n    .addCase(getIngredientsFailed, (state, action) => {\n      state.burgerIngredientsFailed = true; \n      state.burgerIngredientsRequest = false;\n    })\n    .addCase(getOrderdetailsRequest, (state, action) => {\n      state.orderDetailsRequest = true;\n    })\n    .addCase(getOrderdetailsSuccess, (state, action) => {\n      state.orderDetailsFailed = false; \n      state.orderDetails = action.orderDetails;\n      state.orderDetailsRequest = false;\n    })\n    .addCase(getOrderdetailsFailed, (state, action) => {\n      state.orderDetailsFailed = true; \n      state.orderDetailsRequest = false;\n    })\n    .addCase(refreshOrderdetailsItems, (state, action) => {\n      state.orderDetailsItems = action.orderDetailsItems;\n    })\n    .addCase(addConstructorIngredient, (state, action) => {\n      if (action.constructorIngredient.type === 'bun') {\n        state.constructorIngredients.bun = action.constructorIngredient;\n      } else {\n        state.constructorIngredients.ingredients.push({...action.constructorIngredient, uuid: uuidv4()});\n      }\n    })\n    .addCase(updateConstructorIngredients, (state, action) => {\n      state.constructorIngredients.ingredients = [...action.ingredients];\n    })\n    .addCase(deleteConstructorIngredient, (state, action) => {\n      state.constructorIngredients.ingredients.splice(action.index, 1);\n      //...state, constructorIngredients: {...state.constructorIngredients, ingredients: [...state.constructorIngredients.ingredients]\n    })\n    .addCase(deleteModalIngredients, (state, action) => {\n      state.modalIngredient = {};\n    })\n    .addCase(addModalIngredients, (state, action) => {\n      state.modalIngredient = action.item;\n    })\n    .addCase(refreshBunsScroll, (state, action) => {\n      state.bunsScroll = true;\n      state.saucesScroll = false;\n      state.mainsScroll = false;\n    })\n    .addCase(refreshSaucesScroll, (state, action) => {\n      state.bunsScroll = false;\n      state.saucesScroll = true;\n      state.mainsScroll = false;\n    })\n    .addCase(refreshMainsScroll, (state, action) => {\n      state.bunsScroll = false;\n      state.saucesScroll = false;\n      state.mainsScroll = true;\n    })\n});"],"mappings":"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"},"metadata":{},"sourceType":"module"}