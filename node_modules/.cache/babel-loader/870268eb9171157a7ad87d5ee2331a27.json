{"ast":null,"code":"import { createAction } from \"@reduxjs/toolkit\";\nimport { baseURL } from '../../utils/config';\nimport { checkResponse } from '../utils';\nimport { GET_RESET_PASSWORD_REQUEST, GET_RESET_PASSWORD_SUCCESS, GET_RESET_PASSWORD_FAILED } from '../action-types';\nexport const getResetPasswordRequest = createAction(GET_RESET_PASSWORD_REQUEST);\nexport const getResetPasswordSuccess = createAction(GET_RESET_PASSWORD_SUCCESS);\nexport const getResetPasswordFailed = createAction(GET_RESET_PASSWORD_FAILED);\nexport const getResetPassword = body => dispatch => {\n  dispatch({\n    type: getResetPasswordRequest\n  });\n  fetch(baseURL + 'password-reset/reset', {\n    method: 'POST',\n    mode: 'cors',\n    cache: 'no-cache',\n    credentials: 'same-origin',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    redirect: 'follow',\n    referrerPolicy: 'no-referrer',\n    body: JSON.stringify(body)\n  }).then(checkResponse).then(obj => {\n    //  getResetPasswordRequestApi(body).then(obj => {\n    if (obj) {\n      dispatch({\n        type: getResetPasswordSuccess,\n        resetPassword: obj\n      });\n    } else {\n      dispatch({\n        type: getResetPasswordFailed\n      });\n    }\n  }).catch(error => {\n    dispatch({\n      type: getResetPasswordFailed\n    });\n  });\n};","map":{"version":3,"names":["createAction","baseURL","checkResponse","GET_RESET_PASSWORD_REQUEST","GET_RESET_PASSWORD_SUCCESS","GET_RESET_PASSWORD_FAILED","getResetPasswordRequest","getResetPasswordSuccess","getResetPasswordFailed","getResetPassword","body","dispatch","type","fetch","method","mode","cache","credentials","headers","redirect","referrerPolicy","JSON","stringify","then","obj","resetPassword","catch","error"],"sources":["/home/gog3d/JS/6-yndex-react/0-project/react-burger/src/redux/actions/reset-password.ts"],"sourcesContent":["import { createAction } from \"@reduxjs/toolkit\";\nimport { baseURL }  from '../../utils/config';\nimport { checkResponse }  from '../utils';\n\nimport {\n  GET_RESET_PASSWORD_REQUEST,\n  GET_RESET_PASSWORD_SUCCESS,\n  GET_RESET_PASSWORD_FAILED,\n} from '../action-types';\n\nimport { AppDispatch, AppThunk } from '../store';\n\nexport const getResetPasswordRequest = createAction(GET_RESET_PASSWORD_REQUEST);\nexport const getResetPasswordSuccess = createAction(GET_RESET_PASSWORD_SUCCESS);\nexport const getResetPasswordFailed = createAction(GET_RESET_PASSWORD_FAILED);\n\nexport type TResetPassword = ReturnType<typeof getResetPasswordRequest>\n                            | ReturnType<typeof getResetPasswordSuccess>\n                            | ReturnType<typeof getResetPasswordFailed>;\n\nexport type TResetPasswordBody = { \n  password: string,\n  token: string\n }                            \n\nexport const getResetPassword = (body: TResetPasswordBody) => (dispatch: AppDispatch) => {\n  dispatch({ type: getResetPasswordRequest });\n  fetch(baseURL + 'password-reset/reset', {\n    method: 'POST',\n    mode: 'cors',\n    cache: 'no-cache',\n    credentials: 'same-origin',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    redirect: 'follow',\n    referrerPolicy: 'no-referrer',\n    body: JSON.stringify(body),\n  }).then(checkResponse).then(obj => {\n//  getResetPasswordRequestApi(body).then(obj => {\n  if (obj) {\n    dispatch({ type: getResetPasswordSuccess, resetPassword: obj});\n  } else {\n    dispatch({ type: getResetPasswordFailed });\n  }\n  }).catch((error) => {\n    dispatch({ type: getResetPasswordFailed });\n  });\n};"],"mappings":"AAAA,SAASA,YAAT,QAA6B,kBAA7B;AACA,SAASC,OAAT,QAAyB,oBAAzB;AACA,SAASC,aAAT,QAA+B,UAA/B;AAEA,SACEC,0BADF,EAEEC,0BAFF,EAGEC,yBAHF,QAIO,iBAJP;AAQA,OAAO,MAAMC,uBAAuB,GAAGN,YAAY,CAACG,0BAAD,CAA5C;AACP,OAAO,MAAMI,uBAAuB,GAAGP,YAAY,CAACI,0BAAD,CAA5C;AACP,OAAO,MAAMI,sBAAsB,GAAGR,YAAY,CAACK,yBAAD,CAA3C;AAWP,OAAO,MAAMI,gBAAgB,GAAIC,IAAD,IAA+BC,QAAD,IAA2B;EACvFA,QAAQ,CAAC;IAAEC,IAAI,EAAEN;EAAR,CAAD,CAAR;EACAO,KAAK,CAACZ,OAAO,GAAG,sBAAX,EAAmC;IACtCa,MAAM,EAAE,MAD8B;IAEtCC,IAAI,EAAE,MAFgC;IAGtCC,KAAK,EAAE,UAH+B;IAItCC,WAAW,EAAE,aAJyB;IAKtCC,OAAO,EAAE;MACP,gBAAgB;IADT,CAL6B;IAQtCC,QAAQ,EAAE,QAR4B;IAStCC,cAAc,EAAE,aATsB;IAUtCV,IAAI,EAAEW,IAAI,CAACC,SAAL,CAAeZ,IAAf;EAVgC,CAAnC,CAAL,CAWGa,IAXH,CAWQrB,aAXR,EAWuBqB,IAXvB,CAW4BC,GAAG,IAAI;IACrC;IACE,IAAIA,GAAJ,EAAS;MACPb,QAAQ,CAAC;QAAEC,IAAI,EAAEL,uBAAR;QAAiCkB,aAAa,EAAED;MAAhD,CAAD,CAAR;IACD,CAFD,MAEO;MACLb,QAAQ,CAAC;QAAEC,IAAI,EAAEJ;MAAR,CAAD,CAAR;IACD;EACA,CAlBD,EAkBGkB,KAlBH,CAkBUC,KAAD,IAAW;IAClBhB,QAAQ,CAAC;MAAEC,IAAI,EAAEJ;IAAR,CAAD,CAAR;EACD,CApBD;AAqBD,CAvBM"},"metadata":{},"sourceType":"module"}