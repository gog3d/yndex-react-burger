{"ast":null,"code":"import { baseURL } from '../utils/config';\nexport function getCookie(name) {\n  const matches = document.cookie.match(new RegExp('(?:^|; )' + name.replace(/([\\.$?*|{}\\(\\)\\[\\]\\\\\\/\\+^])/g, '\\\\$1') + '=([^;]*)'));\n  return matches ? decodeURIComponent(matches[1]) : undefined;\n}\nexport function setCookie(name, value) {\n  let props = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  props = {\n    path: '/',\n    ...props\n  };\n  let exp = props.expires;\n\n  if (typeof exp == 'number' && exp) {\n    const d = new Date();\n    d.setTime(d.getTime() + exp * 1000);\n    exp = props.expires = d;\n  }\n\n  if (exp && exp.toUTCString) {\n    props.expires = exp.toUTCString();\n  }\n\n  value = encodeURIComponent(value);\n  let updatedCookie = name + '=' + value;\n\n  for (const propName in props) {\n    updatedCookie += '; ' + propName;\n    const propValue = props[propName];\n\n    if (propValue !== true) {\n      updatedCookie += '=' + propValue;\n    }\n  }\n\n  document.cookie = updatedCookie;\n}\nexport function deleteCookie(name) {\n  //  console.log(name)\n  setCookie(name, null, {\n    expires: -1\n  });\n}\nexport function checkResponse(res) {\n  if (res.ok) {\n    return res.json();\n  } else {\n    return Promise.reject(`Ошибка ${res.status}`);\n  }\n}\n;\nexport const fetchRequest = {\n  post: async function () {\n    let path = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    let body = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    const header = {\n      token: 'token'\n    };\n    const headers = {\n      'Content-Type': 'application/json',\n      ...header\n    };\n    return new Promise((resolve, reject) => {\n      fetch(baseURL + path, {\n        method: 'POST',\n        mode: 'cors',\n        cache: 'no-cache',\n        credentials: 'same-origin',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        redirect: 'follow',\n        referrerPolicy: 'no-referrer',\n        body: JSON.stringify(body)\n      }).then(res => resolve(res)).catch(err => reject(err));\n    });\n  },\n  get: async function () {\n    let path = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    let headers = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    return new Promise((resolve, reject) => {\n      fetch(baseURL + path, {\n        method: 'GET',\n        mode: 'cors',\n        cache: 'no-cache',\n        credentials: 'same-origin',\n        headers: {\n          'Content-Type': 'application/json',\n          ...headers\n        },\n        redirect: 'follow',\n        referrerPolicy: 'no-referrer'\n      }).then(res => resolve(res)).catch(err => reject(err));\n    });\n  },\n  patch: async function () {\n    let path = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    let body = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    let headers = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    return new Promise((resolve, reject) => {\n      fetch(baseURL + path, {\n        method: 'PATCH',\n        mode: 'cors',\n        cache: 'no-cache',\n        credentials: 'same-origin',\n        headers: {\n          'Content-Type': 'application/json',\n          ...headers\n        },\n        redirect: 'follow',\n        referrerPolicy: 'no-referrer',\n        body: JSON.stringify(body)\n      }).then(res => resolve(res)).catch(err => reject(err));\n    });\n  }\n};","map":{"version":3,"names":["baseURL","getCookie","name","matches","document","cookie","match","RegExp","replace","decodeURIComponent","undefined","setCookie","value","props","path","exp","expires","d","Date","setTime","getTime","toUTCString","encodeURIComponent","updatedCookie","propName","propValue","deleteCookie","checkResponse","res","ok","json","Promise","reject","status","fetchRequest","post","body","header","token","headers","resolve","fetch","method","mode","cache","credentials","redirect","referrerPolicy","JSON","stringify","then","catch","err","get","patch"],"sources":["/home/gog3d/JS/6-yndex-react/0-project/react-burger/src/redux/utils.js"],"sourcesContent":["import { baseURL }  from '../utils/config';\n\nexport function getCookie(name) {\n  const matches = document.cookie.match(\n    new RegExp('(?:^|; )' + name.replace(/([\\.$?*|{}\\(\\)\\[\\]\\\\\\/\\+^])/g, '\\\\$1') + '=([^;]*)')\n  );\n  return matches ? decodeURIComponent(matches[1]) : undefined;\n}\n\nexport function setCookie(name, value, props = {}) {\n  props = {\n    path: '/', ...props\n  };\n  let exp = props.expires;\n  if (typeof exp == 'number' && exp) {\n    const d = new Date();\n    d.setTime(d.getTime() + exp * 1000);\n    exp = props.expires = d;\n  }\n  if (exp && exp.toUTCString) {\n    props.expires = exp.toUTCString();\n  }\n  value = encodeURIComponent(value);\n  let updatedCookie = name + '=' + value;\n  for (const propName in props) {\n    updatedCookie += '; ' + propName;\n    const propValue = props[propName];\n    if (propValue !== true) {\n      updatedCookie += '=' + propValue;\n    }\n  }\n  document.cookie = updatedCookie;\n}\n\nexport function deleteCookie(name) {\n//  console.log(name)\n  setCookie(name, null, { expires: -1 });\n}\n\nexport function checkResponse(res) {\n  if (res.ok) {\n    return res.json();\n  } else {\n    return Promise.reject(`Ошибка ${res.status}`);\n  }\n};\n\nexport const fetchRequest = {\n  post: async (path = '', body = null) => {\n    const header = {token: 'token'};\n    const headers = {'Content-Type': 'application/json', ...header};\n    return new Promise((resolve, reject) => {\n      fetch(baseURL + path, {\n        method: 'POST',\n        mode: 'cors',\n        cache: 'no-cache',\n        credentials: 'same-origin',\n        headers:  {\n          'Content-Type': 'application/json'\n        },\n        redirect: 'follow',\n        referrerPolicy: 'no-referrer',\n        body: JSON.stringify(body),\n      }).then(res => resolve(res)).catch((err) => reject(err));\n    })\n  },\n  get: async (path = '', headers = {}) => {\n    return new Promise((resolve, reject) => {\n      fetch(baseURL + path, {\n        method: 'GET',\n        mode: 'cors',\n        cache: 'no-cache',\n        credentials: 'same-origin',\n        headers:  {\n          'Content-Type': 'application/json', \n          ...headers\n        },\n        redirect: 'follow',\n        referrerPolicy: 'no-referrer',\n      }).then(res => resolve(res)).catch((err) => reject(err));\n    })\n  },\n  patch: async (path = '', body = null, headers = {}) => {\n    return new Promise((resolve, reject) => {\n      fetch(baseURL + path, {\n        method: 'PATCH',\n        mode: 'cors',\n        cache: 'no-cache',\n        credentials: 'same-origin',\n        headers:  {\n          'Content-Type': 'application/json', \n          ...headers\n        },\n        redirect: 'follow',\n        referrerPolicy: 'no-referrer',\n        body: JSON.stringify(body),\n      }).then(res => resolve(res)).catch((err) => reject(err));\n    })\n  },\n\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}